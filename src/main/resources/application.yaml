server:
  port: 8082
vaadin:
  launch-browser: false
spring:
  application:
    name: demo-spring-ai
  docker:
    compose:
      lifecycle-management: start_only
  kafka:
    producer:
      bootstrap-servers: localhost:29092
      retries: 3
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer
    streams:
      application-id: demo-spring-ai
      bootstrap-servers: localhost:29092
      stateDir: /tmp/kafka-streams/${spring.kafka.streams.application-id}
      properties:
        default.key.serde: org.apache.kafka.common.serialization.Serdes$StringSerde
        default.value.serde: org.apache.kafka.common.serialization.Serdes$StringSerde
  telegram:
    client:
      api-id: override-me
      api-hash: override-me
      phone: override-me
      system-language-code: ru
      database-encryption-key: override-me
      device-model: desktop
      use-message-database: true
      use-file-database: true
      log-verbosity-level: 3
      use-test-dc: true

  ai:
    vectorstore:
      redis:
        initialize-schema: true
        index: default-index
        prefix: spring-ai-
        batching-strategy: TOKEN_COUNT

    openai:
      base-url: https://api.proxyapi.ru/openai
      api-key: override-me
      chat:
        enabled: false
        options:
          model: gpt-4o-mini
      embedding:
        enabled: false
        options:
          model: text-embedding-ada-002
    ollama:
      chat:
        enabled: false
        options:
          model: llama3.2:1b
      embedding:
        enabled: false
        options:
          model: llama3.2:1b

logging.level:
  org.springframework.web.client: DEBUG
  org.springframework.ai.chat: DEBUG

management:
  endpoints:
    web:
      exposure:
        include: "prometheus,health,info,env,metrics"

app:
  etl:
    steps:
      tokenizer:
        input: events_raw
        output: events_tokenized
      event-metadata-enricher:
        input: events_tokenized
        output: events_with_metadata
        additional:
          keywords_number: 8
      event-vector-saver:
        input: events_with_metadata
---
spring.config.activate.on-profile: openai

spring.ai.openai:
  chat.enabled: true
  embedding.enabled: true
---
spring.config.activate.on-profile: ollama

spring.ai.ollama:
  chat.enabled: true
  embedding.enabled: true
---